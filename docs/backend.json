{
  "entities": {
    "UserProfile": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "UserProfile",
      "type": "object",
      "description": "Represents a user's profile information.",
      "properties": {
        "email": {
          "type": "string",
          "description": "The user's email address.",
          "format": "email"
        },
        "createdAt": {
          "type": "string",
          "description": "The date and time when the user profile was created.",
          "format": "date-time"
        }
      },
      "required": [
        "email",
        "createdAt"
      ]
    },
    "CartItem": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "CartItem",
      "type": "object",
      "description": "Represents an item in a user's shopping cart.",
      "properties": {
        "productId": {
          "type": "number",
          "description": "The ID of the product."
        },
        "title": {
          "type": "string",
          "description": "The name of the product."
        },
        "price": {
          "type": "number",
          "description": "The price of the product."
        },
        "image": {
          "type": "string",
          "description": "URL of the product image."
        },
        "quantity": {
          "type": "number",
          "description": "The quantity of the product in the cart."
        }
      },
      "required": [
        "productId",
        "title",
        "price",
        "image",
        "quantity"
      ]
    },
    "Order": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Order",
      "type": "object",
      "description": "Represents a customer's order.",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The ID of the user who placed the order."
        },
        "items": {
          "type": "array",
          "description": "The items included in the order.",
          "items": {
            "$ref": "#/entities/CartItem"
          }
        },
        "total": {
          "type": "number",
          "description": "The total cost of the order."
        },
        "shippingAddress": {
          "type": "object",
          "description": "The address where the order will be shipped.",
          "properties": {
            "name": { "type": "string" },
            "address": { "type": "string" },
            "city": { "type": "string" },
            "postalCode": { "type": "string" },
            "country": { "type": "string" }
          },
          "required": ["name", "address", "city", "postalCode", "country"]
        },
        "status": {
            "type": "string",
            "description": "The current status of the order.",
            "enum": ["pending", "shipped", "delivered", "cancelled"]
        },
        "createdAt": {
          "type": "string",
          "description": "The date and time when the order was placed.",
          "format": "date-time"
        }
      },
      "required": [ "userId", "items", "total", "shippingAddress", "status", "createdAt" ]
    }
  },
  "auth": {
    "providers": [
      "password"
    ]
  },
  "firestore": {
    "/users/{userId}": {
      "schema": {
        "$ref": "#/entities/UserProfile"
      },
      "description": "Stores user profile information."
    },
    "/users/{userId}/cart/{cartItemId}": {
      "schema": {
        "$ref": "#/entities/CartItem"
      },
      "description": "Stores items in a user's shopping cart."
    },
    "/orders/{orderId}": {
        "schema": {
            "$ref": "#/entities/Order"
        },
        "description": "Stores all customer orders."
    }
  }
}
